(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{455:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h3",{attrs:{id:"ğŸ’¡-ç›¸å…³é˜…è¯»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’¡-ç›¸å…³é˜…è¯»"}},[t._v("#")]),t._v(" ğŸ’¡ ç›¸å…³é˜…è¯»")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://juejin.cn/post/7242249906257363001",target:"_blank",rel:"noopener noreferrer"}},[t._v("ğŸ‰å¹²è´§æ»¡æ»¡ï¼ŒReactè®¾è®¡åŸç†(äºŒ)ï¼šè—åœ¨æºç é‡Œçš„ä¸¤ä¸ªåœˆï¼Œå…³é”®çš„é“¾è¡¨ç»“æ„å’ŒåŒç¼“å­˜æŠ€æœ¯ğŸ‰"),s("OutboundLink")],1)])]),t._v(" "),s("blockquote",[s("p",[t._v("æ–‡ç« é¦–å‘å…¬ä¼—å·ï¼š èŒèŒå“’è‰å¤´å°†å†›ï¼Œæœ€è¿‘å…³æ³¨æœ‰ğŸï¼Œæ¬¢è¿å…³æ³¨")])]),t._v(" "),s("p",[t._v("æœ€è¿‘åœ¨åŠªåŠ›ç ”ç©¶"),s("code",[t._v("React")]),t._v("æºç ï¼Œå‘ç°å®ƒå¹¶æ²¡æœ‰æˆ‘ä¹‹å‰æƒ³è±¡çš„é‚£ä¹ˆéš¾ç†è§£ã€‚")]),t._v(" "),s("p",[t._v("è™½ç„¶æºç é‡Œé¢æœ‰ä¸€äº›æ¦‚å¿µå°±åƒä¸€åº§äº”æŒ‡å±±å›°ä½äº†æ¡€éªœä¸é©¯çš„å­™æ‚Ÿç©ºã€‚")]),t._v(" "),s("p",{attrs:{align:"center"}},[s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f8fe02980b244d55a369e29b1cb898a7~tplv-k3u1fbpfcp-watermark.image?",alt:"1e175ecdaa2843249f0084f011ef2b67.jpeg"}})]),t._v(" "),s("p",{attrs:{align:"center"}},[s("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/30cc3568e5a641549c5e5170212f65d2~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png",width:"50%"}})]),t._v(" "),s("p",[t._v("ä½†å¦‚æœä½ ç†è§£äº†ä¸‹é¢çš„å‡ ä¸ªæ¦‚å¿µï¼Œè¯»æ‡‚reactæºç å°±ä¸æ˜¯éš¾äº‹äº†ã€‚")]),t._v(" "),s("h2",{attrs:{id:"ğŸ’-ç¬¬ä¸€åº§å±±-fiberç›¸å…³å˜é‡å‘½å"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’-ç¬¬ä¸€åº§å±±-fiberç›¸å…³å˜é‡å‘½å"}},[t._v("#")]),t._v(" ğŸ’ ç¬¬ä¸€åº§å±±ï¼š"),s("code",[t._v("Fiber")]),t._v("ç›¸å…³å˜é‡å‘½å")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬å·²ç»çŸ¥é“ä»"),s("code",[t._v("v16.8")]),t._v("å¼€å§‹ï¼Œ"),s("code",[t._v("React")]),t._v("è¿›å…¥äº†"),s("code",[t._v("fiber")]),t._v("æ¶æ„æ—¶ä»£ï¼Œå°†ä¸å¯ä¸­æ–­çš„é€’å½’æ”¹è¿›ä¸ºå¯ä¸­æ–­çš„é€’å½’ã€‚")]),t._v(" "),s("p",[s("code",[t._v("fiber")]),t._v("æ¶æ„ä¸»è¦çš„å·¥ä½œæ˜¯åˆ›å»º"),s("code",[t._v("fiber tree")]),t._v("ï¼Œç„¶ååœ¨åˆé€‚çš„æ—¶æœºå°†è¿™æ£µæ ‘æ¸²æŸ“åœ¨å±å¹•ä¸Š.")]),t._v(" "),s("p",[t._v("æ‰€ä»¥å›´ç»•ç€"),s("code",[t._v("fiber")]),t._v("ï¼Œæºç é‡Œå‡ºç°äº†ä¸€å †å¸¦ç€"),s("code",[t._v("fiber")]),t._v("çš„å˜é‡ã€‚")]),t._v(" "),s("h3",{attrs:{id:"ğŸš—-fibernode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš—-fibernode"}},[t._v("#")]),t._v(" ğŸš— "),s("code",[t._v("FiberNode")])]),t._v(" "),s("p",[t._v("é¦–å…ˆï¼Œåœ¨æºç ä¸­ï¼Œ"),s("code",[t._v("FiberNode")]),t._v("æ˜¯ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒåŒ…å«äº†è®¸å¤šå±æ€§ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("FiberNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" $FlowFixMe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("tag")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" WorkTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pendingProps")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" mixed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" TypeOfMode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Instance")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elementType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stateNode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Fiber")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("return "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("child "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sibling "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("refCleanup "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pendingProps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pendingProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("memoizedProps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("updateQueue "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("memoizedState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dependencies "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Effects")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("flags "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoFlags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subtreeFlags "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoFlags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deletions "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lanes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoLanes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childLanes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoLanes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alternate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("è¿™äº›å±æ€§å¯ä»¥æ ¹æ®"),s("code",[t._v("FiberNode")]),t._v("çš„ä¸åŒèº«ä»½è¿›è¡Œåˆ’åˆ†ã€‚")]),t._v(" "),s("p",[s("code",[t._v("FiberNode")]),t._v("åœ¨"),s("code",[t._v("React")]),t._v("ä¸­é€šå¸¸æœ‰ä¸‰ç§ä¸åŒçš„èº«ä»½ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ğŸ‘‰ ä½œä¸ºæ¶æ„çš„ä¸€ç¯")])]),t._v(" "),s("p",[t._v("ä½œä¸ºæ¶æ„çš„ä¸€ç¯ï¼Œå¤šä¸ª"),s("code",[t._v("FiberNode")]),t._v("ä½œä¸ºåŸºæœ¬èŠ‚ç‚¹æ„æˆ"),s("code",[t._v("fiber tree")]),t._v("ã€‚")]),t._v(" "),s("p",[t._v("æ­¤æ—¶ï¼Œå®ƒçš„ç›¸å…³å±æ€§å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Fiber")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŒ‡å‘çˆ¶èŠ‚ç‚¹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("return "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŒ‡å‘ç¬¬ä¸€ä¸ªå­èŠ‚ç‚¹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("child "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æŒ‡å‘å³è¾¹å…„å¼ŸèŠ‚ç‚¹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sibling "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("ul",[s("li",[t._v("ğŸ‘‰ ä½œä¸ºæ•°æ®çš„ä¸€ç¯")])]),t._v(" "),s("p",[t._v("ä½œä¸ºæ•°æ®çš„ä¸€ç¯ï¼Œå®ƒä¿å­˜äº†åŸºæœ¬çš„"),s("code",[t._v("React")]),t._v("å…ƒç´ ä¿¡æ¯ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Instance")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹åº”ç»„ä»¶çš„ç±»å‹ï¼Œå¯ä»¥æ˜¯classã€functionç­‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç»„ä»¶çš„key")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å’Œtypeç±»ä¼¼çš„å±æ€§")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elementType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ ¹æ®tagçš„ä¸åŒï¼Œå¯ä»¥æ˜¯calssã€functionã€tagNameï¼ˆdivã€inputç­‰åŸå§‹çš„æ ‡ç­¾ï¼‰")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// FiberNodeå¯¹åº”çš„å…ƒç´ ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stateNode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("è¿™é‡Œè¯´æ˜ä¸€ä¸‹"),s("code",[t._v("React")]),t._v("å…ƒç´ :")]),t._v(" "),s("p",[s("code",[t._v("React")]),t._v("å…ƒç´ å¯ä»¥æ˜¯"),s("code",[t._v("<div>Hello!</div>")]),t._v("åŸºæœ¬"),s("code",[t._v("HTML")]),t._v("å…ƒç´ ï¼Œä¹Ÿå¯ä»¥æ˜¯"),s("code",[t._v("<App />")]),t._v("è¿™æ ·çš„ç»„ä»¶ï¼Œ"),s("code",[t._v("App")]),t._v("æ˜¯ä¸ªç±»ç»„ä»¶æˆ–è€…å‡½æ•°ç»„ä»¶ç­‰ã€‚")]),t._v(" "),s("ul",[s("li",[t._v("ğŸ‘‰ ä½œä¸ºè°ƒåº¦çš„ä¸€ç¯")])]),t._v(" "),s("p",[t._v("ä½œä¸ºè°ƒåº¦çš„ä¸€ç¯ï¼Œå®ƒæä¾›äº†è°ƒåº¦æ—¶çš„ä¸€äº›ä¾æ®ã€‚")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// renderç›¸å…³")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("flags "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoFlags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subtreeFlags "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoFlags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("deletions "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¼˜å…ˆçº§ç›¸å…³")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lanes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoLanes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childLanes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoLanes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¼“å­˜ç›¸å…³")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alternate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"ğŸš—-fibernode-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš—-fibernode-2"}},[t._v("#")]),t._v(" ğŸš— "),s("code",[t._v("fiberNode")])]),t._v(" "),s("p",[t._v("å‰é¢è¯´è¿‡ï¼Œ"),s("code",[t._v("FiberNode")]),t._v("æ˜¯"),s("code",[t._v("fiber tree")]),t._v("æœ€å°å•å…ƒã€‚è€Œ"),s("code",[t._v("React")]),t._v("å…ƒç´ è¢«ç¼–è¯‘ä¹‹åçš„"),s("code",[t._v("VNode")]),t._v("éƒ½æˆä¸º"),s("code",[t._v("FiberNode")]),t._v("æ„é€ å‡½æ•°çš„å®ä¾‹ï¼Œæºç ä¸­å®ä¾‹éƒ½ç”¨"),s("code",[t._v("fiber")]),t._v("æˆ–è€…"),s("code",[t._v("workInProgress")]),t._v("è¡¨ç¤ºã€‚")]),t._v(" "),s("h3",{attrs:{id:"ğŸš—-hostrootfiber"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš—-hostrootfiber"}},[t._v("#")]),t._v(" ğŸš— "),s("code",[t._v("HostRootFiber")])]),t._v(" "),s("p",[s("code",[t._v("HostRootFiber")]),t._v("æ˜¯æºç é‡Œä½¿ç”¨"),s("code",[t._v("createHostRootFiber")]),t._v("åˆ›å»ºçš„"),s("code",[t._v("Fiber")]),t._v("æ ¹èŠ‚ç‚¹ï¼Œå®ƒåŒ…å«æ•´æ£µç»„ä»¶æ ‘çš„ä¿¡æ¯ã€‚å¯¹åº”çš„æ˜¯å¦‚ä¸‹ä»£ç ï¼š")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("app2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("app3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("code",[t._v("React")]),t._v("å…è®¸ä½ åˆ›å»ºæœ€å¤šä¸ª"),s("code",[t._v("HostRootFiber")]),t._v("ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å¯ä»¥æœ‰å¤šä¸ªä¸Šè¿°çš„æŒ‚è½½èŠ‚ç‚¹ã€‚")]),t._v(" "),s("h3",{attrs:{id:"ğŸš—-rootfiber"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš—-rootfiber"}},[t._v("#")]),t._v(" ğŸš— "),s("code",[t._v("rootFiber")])]),t._v(" "),s("p",[t._v("æºç é‡Œé€šè¿‡"),s("code",[t._v("createHostRootFiber")]),t._v("çš„å®ä¾‹åœ¨ä½œä¸ºå‚æ•°æ—¶ï¼Œå¶å°”ä¹Ÿä¼šä½¿ç”¨"),s("code",[t._v("rootFiber")]),t._v("è¡¨ç¤ºã€‚")]),t._v(" "),s("h3",{attrs:{id:"ğŸš—-fiberrootnode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš—-fiberrootnode"}},[t._v("#")]),t._v(" ğŸš— "),s("code",[t._v("FiberRootNode")])]),t._v(" "),s("p",[s("code",[t._v("FiberRootNode")]),t._v("è¡¨ç¤ºåº”ç”¨æ ¹èŠ‚ç‚¹ã€‚å®ƒä¿å­˜ç€åº”ç”¨çš„çŠ¶æ€ä¿¡æ¯å’Œç»„ä»¶ä¿¡æ¯ã€‚å®ƒçš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("FiberRootNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" $FlowFixMe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("containerInfo")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" any"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// $FlowFixMe[missing-local-annot]")]),t._v("\n  tag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("hydrate")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" any"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("identifierPrefix")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" any"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("onRecoverableError")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" any"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºåº”ç”¨ç¨‹åºçš„å®¹å™¨å…ƒç´ ï¼Œå³ç»„ä»¶æ ‘çš„æ ¹èŠ‚ç‚¹")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®ƒä¸€èˆ¬æ˜¯ä¸€ä¸ª DOM å…ƒç´ ï¼Œç”¨æ¥æ‰¿è½½æ•´ä¸ªç»„ä»¶æ ‘çš„æ¸²æŸ“ç»“æœã€‚")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("containerInfo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" containerInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºå½“å‰åº”ç”¨ç¨‹åºä¸­å¾…å¤„ç†çš„å­æ ‘åˆ—è¡¨")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pendingChildren "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºå½“å‰æ¸²æŸ“çš„ Fiber æ ‘çš„æ ¹èŠ‚ç‚¹ï¼ŒæŒ‡å‘ HootRootFiber")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("current "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç½‘ç»œè¯·æ±‚ä¼˜åŒ–ç”¨çš„å±æ€§")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pingCache "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºæœ€è¿‘ä¸€æ¬¡æ¸²æŸ“å®Œæˆçš„ Fiber æ ‘çš„æ ¹èŠ‚ç‚¹")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// React åœ¨è¿›è¡Œç»„ä»¶æ›´æ–°æ—¶ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ Fiber æ ‘")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¹¶å°†å®ƒä¸æ—§çš„ Fiber æ ‘è¿›è¡Œæ¯”è¾ƒï¼Œæ‰¾å‡ºéœ€è¦æ›´æ–°çš„éƒ¨åˆ†")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç„¶åè¿›è¡Œæ›´æ–°ã€‚å½“æ›´æ–°å®Œæˆåï¼Œæœ€è¿‘ä¸€æ¬¡æ¸²æŸ“çš„ç»“æœ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¼šå­˜å‚¨åœ¨ `finishedWork` å±æ€§ä¸­")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("finishedWork "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºå½“å‰åº”ç”¨ç¨‹åºçš„ä¸Šä¸‹æ–‡")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("context "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºå½“å‰åº”ç”¨ç¨‹åºçš„æŒ‚èµ·ä¸Šä¸‹æ–‡")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åœ¨ React ä¸­ï¼Œå½“ç»„ä»¶çš„ä¸Šä¸‹æ–‡å‘ç”Ÿå˜åŒ–æ—¶ï¼Œ")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// React ä¼šå°†æ–°çš„ä¸Šä¸‹æ–‡ä¿¡æ¯å­˜å‚¨åœ¨ `pendingContext` ä¸­")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¾…ä¸‹ä¸€æ¬¡æ›´æ–°æ—¶å†è¿›è¡Œå¤„ç†ã€‚")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pendingContext "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å½“ç»„ä»¶å®Œæˆæ›´æ–°åçš„å›è°ƒå‡½æ•°")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("callbackNode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è¡¨ç¤ºä¸‹ä¸€æ¬¡æ›´æ–°çš„è¿‡æœŸæ—¶é—´")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("expirationTimes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createLaneMap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("NoTimestamp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¼˜å…ˆçº§ç›¸å…³çš„å±æ€§")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pendingLanes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoLanes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("suspendedLanes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoLanes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pingedLanes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoLanes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("expiredLanes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoLanes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mutableReadLanes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoLanes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("finishedLanes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoLanes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//....")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("é€šå¸¸çŠ¶å†µä¸‹ï¼Œ"),s("code",[t._v("FiberRootNode")]),t._v("å’Œ"),s("code",[t._v("HootRootFiber")]),t._v("æ˜¯ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("FiberRootNode")]),t._v("æ˜¯å•ä¾‹å¯¹è±¡ï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºåªä¼šæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¦‚æœä¸€ä¸ªé¡µé¢æœ‰å¤šä¸ª"),s("code",[t._v("React")]),t._v("åº”ç”¨ï¼Œé‚£ä¹ˆä¼šæœ‰å¤šä¸ªå®ä¾‹ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"ğŸš—fiberrootnode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸš—fiberrootnode"}},[t._v("#")]),t._v(" ğŸš—"),s("code",[t._v("fiberRootNode")])]),t._v(" "),s("p",[s("code",[t._v("fiberRootNode")]),t._v("æ˜¯"),s("code",[t._v("createFiberRoot")]),t._v("çš„è¿”å›å€¼ç±»å‹ã€‚å³"),s("code",[t._v("FiberRootNode")]),t._v("å®ä¾‹ã€‚æºç é‡Œç”¨"),s("code",[t._v("fiberRoot")]),t._v("è¡¨ç¤ºã€‚")]),t._v(" "),s("h2",{attrs:{id:"ğŸ’-æ€»ç»“"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’-æ€»ç»“"}},[t._v("#")]),t._v(" ğŸ’ æ€»ç»“")]),t._v(" "),s("p",[t._v("åœ¨"),s("code",[t._v("Fiber")]),t._v("æ¶æ„ä¸­ï¼Œ"),s("code",[t._v("FiberNode")]),t._v("å®ä¾‹"),s("code",[t._v("fiber")]),t._v("æ—¢æ˜¯"),s("code",[t._v("fiber tree")]),t._v("çš„åŸºæœ¬æ•°æ®ç»“æ„å•å…ƒï¼Œè®°å½•å…ƒç´ èŠ‚ç‚¹çš„ä¿¡æ¯ï¼Œä¹Ÿæ˜¯ç»„ä»¶æ ¹èŠ‚ç‚¹çš„æ•°æ®å•å…ƒï¼Œè®°å½•æ•´ä¸ªç»„ä»¶æ ‘çš„ä¿¡æ¯ï¼ŒåŒæ—¶ä¹Ÿä¼šä¸ºè°ƒåº¦ç›¸å…³çš„å·¥ä½œæä¾›ä¾æ®ï¼›")]),t._v(" "),s("p",[s("code",[t._v("FiberRootNode")]),t._v("çš„å®ä¾‹"),s("code",[t._v("fiberRoot")]),t._v("æ˜¯åº”ç”¨æ ¹èŠ‚ç‚¹çš„æ•°æ®å•å…ƒï¼ŒåŒ…å«æ•´ä¸ªåº”ç”¨çš„çŠ¶æ€ä¿¡æ¯å’Œç§Ÿä»·ä¿¡æ¯ã€‚å®ƒå’Œ"),s("code",[t._v("HootRootFiber")]),t._v("å®ä¾‹"),s("code",[t._v("rootFiber")]),t._v("æ˜¯ä¸€ä¸€å¯¹åº”å…³ç³»")])])}),[],!1,null,null,null);s.default=e.exports}}]);